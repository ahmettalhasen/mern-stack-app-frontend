{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dilrubareyyan/Documents/Files/School/SEBA/laundrywise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dilrubareyyan/Documents/Files/School/SEBA/laundrywise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/dilrubareyyan/Documents/Files/School/SEBA/laundrywise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dilrubareyyan/Documents/Files/School/SEBA/laundrywise/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import HttpService from\"./HttpService\";var MovieService=/*#__PURE__*/function(){function MovieService(){_classCallCheck(this,MovieService);}_createClass(MovieService,null,[{key:\"baseURL\",value:function baseURL(){return\"http://localhost:4000/movies\";}},{key:\"getMovies\",value:function getMovies(){var _this=this;return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve,reject){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:HttpService.get(_this.baseURL(),function(data){resolve(data);},function(textStatus){reject(textStatus);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());}},{key:\"getMovie\",value:function getMovie(id){return new Promise(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve,reject){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:HttpService.get(\"\".concat(MovieService.baseURL(),\"/\").concat(id),function(data){if(data!==undefined||Object.keys(data).length!==0){resolve(data);}else{reject(\"Error while retrieving movie\");}},function(textStatus){reject(textStatus);});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());}},{key:\"deleteMovie\",value:function deleteMovie(id){return new Promise(function(resolve,reject){HttpService.remove(\"\".concat(MovieService.baseURL(),\"/\").concat(id),function(data){if(data.message!==undefined){resolve(data.message);}else{reject(\"Error while deleting\");}},function(textStatus){reject(textStatus);});});}},{key:\"updateMovie\",value:function updateMovie(movie){var _this2=this;return new Promise(function(resolve,reject){HttpService.put(\"\".concat(_this2.baseURL(),\"/\").concat(movie._id),movie,function(data){resolve(data);},function(textStatus){reject(textStatus);});});}},{key:\"getRating\",value:function getRating(movieId){var _this3=this;return new Promise(function(resolve,reject){HttpService.get(\"\".concat(_this3.baseURL(),\"/rate/\").concat(movieId),function(data){resolve(data);},function(textStatus){reject(textStatus);});});}},{key:\"rateMovie\",value:function rateMovie(movieId,rating){var _this4=this;return new Promise(function(resolve,reject){HttpService.put(\"\".concat(_this4.baseURL(),\"/rate/\").concat(movieId),{rating:rating},function(data){resolve(data);},function(textStatus){reject(textStatus);});});}},{key:\"createMovie\",value:function createMovie(movie){movie.id=Math.floor(Math.random()*100000000+1).toString();movie.posters={thumbnail:\"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\",profile:\"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\",detailed:\"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\",original:\"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\"};return new Promise(function(resolve,reject){HttpService.post(MovieService.baseURL(),movie,function(data){resolve(data);},function(textStatus){reject(textStatus);});});}}]);return MovieService;}();export{MovieService as default};","map":{"version":3,"sources":["/Users/dilrubareyyan/Documents/Files/School/SEBA/laundrywise/frontend/src/services/MovieService.js"],"names":["HttpService","MovieService","Promise","resolve","reject","get","baseURL","data","textStatus","id","undefined","Object","keys","length","remove","message","movie","put","_id","movieId","rating","Math","floor","random","toString","posters","thumbnail","profile","detailed","original","post"],"mappings":"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","sourcesContent":["import HttpService from \"./HttpService\";\n\nexport default class MovieService {\n    static baseURL() {\n        return \"http://localhost:4000/movies\";\n    }\n\n    static getMovies() {\n        return new Promise(async (resolve, reject) => {\n            HttpService.get(\n                this.baseURL(),\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static getMovie(id) {\n        return new Promise(async (resolve, reject) => {\n            HttpService.get(\n                `${MovieService.baseURL()}/${id}`,\n                function (data) {\n                    if (data !== undefined || Object.keys(data).length !== 0) {\n                        resolve(data);\n                    } else {\n                        reject(\"Error while retrieving movie\");\n                    }\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static deleteMovie(id) {\n        return new Promise((resolve, reject) => {\n            HttpService.remove(\n                `${MovieService.baseURL()}/${id}`,\n                function (data) {\n                    if (data.message !== undefined) {\n                        resolve(data.message);\n                    } else {\n                        reject(\"Error while deleting\");\n                    }\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static updateMovie(movie) {\n        return new Promise((resolve, reject) => {\n            HttpService.put(\n                `${this.baseURL()}/${movie._id}`,\n                movie,\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static getRating(movieId) {\n        return new Promise((resolve, reject) => {\n            HttpService.get(\n                `${this.baseURL()}/rate/${movieId}`,\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static rateMovie(movieId, rating) {\n        return new Promise((resolve, reject) => {\n            HttpService.put(\n                `${this.baseURL()}/rate/${movieId}`,\n                { rating: rating },\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n\n    static createMovie(movie) {\n        movie.id = Math.floor(Math.random() * 100000000 + 1).toString();\n        movie.posters = {\n            thumbnail:\n                \"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\",\n            profile:\n                \"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\",\n            detailed:\n                \"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\",\n            original:\n                \"http://resizing.flixster.com/AeDB8hgaGed_TMCcIF1P_gubGwA=/54x81/dkpu1ddg7pbsk.cloudfront.net/movie/11/27/63/11276344_ori.jpg\",\n        };\n        return new Promise((resolve, reject) => {\n            HttpService.post(\n                MovieService.baseURL(),\n                movie,\n                function (data) {\n                    resolve(data);\n                },\n                function (textStatus) {\n                    reject(textStatus);\n                }\n            );\n        });\n    }\n}\n"]},"metadata":{},"sourceType":"module"}